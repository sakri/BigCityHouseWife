(function(b){var a=function(e,d,g,f,c){LayoutRectangle.call(this,e,d,g,f,c);this.lineThickness=4;this.row1=new BCHWFontLayoutRect(e);this.row1.setHorizontalAlign(LayoutRectangle.HORIZONTAL_ALIGN_RIGHT);this.setRowText(this.row1,"big city");this.row2=new BCHWFontLayoutRect(e);this.setRowText(this.row2,"house wife");this.renderNextCharacterTimeoutId=-1};a.prototype=Object.create(LayoutRectangle.prototype);a.prototype.constructor=LayoutRectangle;a.RENDER_CHARACTER_INTERVAL=30;a.prototype.setRowText=function(j,h){var g=BCHWColor.BCHWColorsLib.WHITE;var f,c,d,e;for(d=0;d<h.length;d++){f=h.charAt(d);c=BCHWColor.BCHWColorsLib.getNextColor(c);e=BCHWFontCharacter.createBCHWFontCharacter(f,c,g,this.lineThickness,new BCHWGeom.RoundedRectangle());if(f==" "){e.width=0.5}j.addCharacter(e)}};a.prototype.render=function(e,d){this.updateLayout(e);this.clear();this.zIndeces=BCHWArrayUtil.createSequentialNumericArray(this.allCharacters.length);this.zIndeces=BCHWArrayUtil.shuffle(this.zIndeces);this.currentRenderIndex=0;for(var c=0;c<this.allCharacters.length;c++){this.allCharacters[c].thickness=d}this.renderNextCharacter()};a.prototype.stop=function(c){clearTimeout(this.renderNextCharacterTimeoutId)};a.prototype.renderNextCharacter=function(){if(this.currentRenderIndex==this.allCharacters.length){return}var d=this.allCharacters[this.zIndeces[this.currentRenderIndex]];d.addRandomness(2,0.01);d.renderToContext(this.context);var c=this;this.renderNextCharacterTimeoutId=setTimeout(function(){c.renderNextCharacter()},a.RENDER_CHARACTER_INTERVAL);this.currentRenderIndex++};a.prototype.updateLayout=function(d){var c=BCHWGeom.RectangleUtil.getBiggerRectangle(this.row1.getContentRect(100),this.row2.getContentRect(100));BCHWGeom.RectangleUtil.scaleRectToBestFit(d,c);BCHWGeom.RectangleUtil.horizontalAlignMiddle(d,c);c.y=BCHWGeom.RectangleUtil.getCenterY(d)-c.height;this.row1.updateToRect(c);this.row1.layoutCharacters();c.y=BCHWGeom.RectangleUtil.getCenterY(d);this.row2.updateToRect(c);this.row2.layoutCharacters();this.allCharacters=this.row1.characters.concat(this.row2.characters)};b.BCHWLogo=a}(window));