(function(b){var a=function(){};a.prototype.loadImages=function(e,c,d){this.urls=e;this.completeCallback=c;this.updateCallback=d!=undefined?d:undefined;this.images=[];this.currentLoadIndex=0;this.loadNextImage()};a.prototype.stop=function(){this.completeCallback=undefined;this.updateCallback=undefined;this.urls=[]};a.prototype.getProgressPercent=function(){return BCHWMathUtil.normalize(this.currentLoadIndex,0,this.urls.length)};a.prototype.getProgressString=function(){return this.currentLoadIndex+" / "+this.urls.length};a.prototype.loadNextImage=function(){if(this.currentLoadIndex>=this.urls.length){this.completeCallback();return}var d=new Image();var e=this;d.onload=function(){e.imageLoadComplete()};var c=this.urls[this.currentLoadIndex];d.onerror=function(){alert("BCHWImageStore ERROR : "+c+" could not be loaded.")};d.src=this.urls[this.currentLoadIndex];this.images.push(d);this.currentLoadIndex++};a.prototype.imageLoadComplete=function(){for(var c=0;c<this.images.length;c++){this.images[c].onload=undefined}if(this.updateCallback!=undefined){this.updateCallback()}this.loadNextImage()};b.BCHWImageStore=a}(window));