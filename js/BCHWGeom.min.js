(function(b){var a=function(){};a.Point=function(c,d){this.x=isNaN(c)?0:c;this.y=isNaN(d)?0:d};a.Point.prototype.clone=function(){return new a.Point(this.x,this.y)};a.Point.prototype.equals=function(c){return this.x==c.x&&this.y==c.y};a.Point.prototype.toString=function(){return"{x:"+this.x+" , y:"+this.y+"}"};a.distanceBetweenTwoPoints=function(d,c){return Math.sqrt(Math.pow(c.x-d.x,2)+Math.pow(c.y-d.y,2))};a.angleBetweenTwoPoints=function(d,c){return Math.atan2(d.y-c.y,d.x-c.x)};a.mirrorPointInRectangle=function(c,d){return new a.Point(d.width-c.x,d.height-c.y)};a.randomizePoint=function(c,d){return new a.Point(-d+Math.random()*d+c.x,-d+Math.random()*d+c.y)};a.Triangle=function(e,d,f){this.a=e?e:new a.Point(0,0);this.b=d?d:new a.Point(0,0);this.c=f?f:new a.Point(0,0)};a.Triangle.prototype.equals=function(c){return this.a.equals(c.a)&&this.b.equals(c.b)&&this.c.equals(c.c)};a.Triangle.prototype.clone=function(){return new a.Triangle(new a.Point(this.a.x,this.a.y),new a.Point(this.b.x,this.b.y),new a.Point(this.c.x,this.c.y))};a.Triangle.prototype.getSmallestX=function(){return Math.min(this.a.x,this.b.x,this.c.x)};a.Triangle.prototype.getSmallestY=function(){return Math.min(this.a.y,this.b.y,this.c.y)};a.Triangle.prototype.getBiggestX=function(){return Math.max(this.a.x,this.b.x,this.c.x)};a.Triangle.prototype.getBiggestY=function(){return Math.max(this.a.y,this.b.y,this.c.y)};a.Triangle.prototype.containsVertex=function(c){return(this.a.x==c.x&&this.a.y==c.y)||(this.b.x==c.x&&this.b.y==c.y)||(this.c.x==c.x&&this.c.y==c.y)};a.Triangle.prototype.toString=function(){return"toString() Triangle{a:"+this.a+" , b:"+this.b+" , c:"+this.c+"}"};a.Triangle.prototype.containsVertex=function(c){return(this.a.x==c.x&&this.a.y==c.y)||(this.b.x==c.x&&this.b.y==c.y)||(this.c.x==c.x&&this.c.y==c.y)};a.Triangle.prototype.sharesEdge=function(d){var c=0;if(this.containsVertex(d.a)){c++}if(this.containsVertex(d.b)){c++}if(this.containsVertex(d.c)){c++}return c==2};a.Rectangle=function(d,f,e,c){this.update(d,f,e,c)};a.Rectangle.prototype.update=function(d,f,e,c){this.x=isNaN(d)?0:d;this.y=isNaN(f)?0:f;this.width=isNaN(e)?0:e;this.height=isNaN(c)?0:c};a.Rectangle.prototype.updateToRect=function(c){this.x=c.x;this.y=c.y;this.width=c.width;this.height=c.height};a.Rectangle.prototype.scaleX=function(c){this.width*=c};a.Rectangle.prototype.scaleY=function(c){this.height*=c};a.Rectangle.prototype.scale=function(c){this.scaleX(c);this.scaleY(c)};a.Rectangle.prototype.getRight=function(){return this.x+this.width};a.Rectangle.prototype.getBottom=function(){return this.y+this.height};a.Rectangle.prototype.getCenterX=function(){return this.x+this.width/2};a.Rectangle.prototype.containsPoint=function(c,d){return c>=this.x&&d>=this.y&&c<=this.getRight()&&d<=this.getBottom()};a.Rectangle.prototype.containsRect=function(c){return this.containsPoint(c.x,c.y)&&this.containsPoint(c.getRight(),c.getBottom())};a.Rectangle.prototype.getCenter=function(){return new a.Point(this.x+this.width/2,this.y+this.height/2)};a.Rectangle.prototype.getCenterY=function(){return this.y+this.height/2};a.Rectangle.prototype.isSquare=function(){return this.width==this.height};a.Rectangle.prototype.isLandscape=function(){return this.width>this.height};a.Rectangle.prototype.isPortrait=function(){return this.width<this.height};a.Rectangle.prototype.getSmallerSide=function(){return Math.min(this.width,this.height)};a.Rectangle.prototype.getBiggerSide=function(){return Math.max(this.width,this.height)};a.Rectangle.prototype.getArea=function(){return this.width*this.height};a.Rectangle.prototype.floor=function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);this.width=Math.floor(this.width);this.height=Math.floor(this.height)};a.Rectangle.prototype.ceil=function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);this.width=Math.ceil(this.width);this.height=Math.ceil(this.height)};a.Rectangle.prototype.round=function(){this.x=Math.round(this.x);this.y=Math.round(this.y);this.width=Math.round(this.width);this.height=Math.round(this.height)};a.Rectangle.prototype.roundIn=function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);this.width=Math.floor(this.width);this.height=Math.floor(this.height)};a.Rectangle.prototype.roundOut=function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);this.width=Math.ceil(this.width);this.height=Math.ceil(this.height)};a.Rectangle.prototype.clone=function(){return new a.Rectangle(this.x,this.y,this.width,this.height)};a.Rectangle.prototype.toString=function(){return"Rectangle{x:"+this.x+" , y:"+this.y+" , width:"+this.width+" , height:"+this.height+"}"};a.RoundedRectangle=function(e,g,f,d,c){a.Rectangle.call(this,e,g,f,d);this.radius=isNaN(c)?5:c};a.RoundedRectangle.prototype=Object.create(a.Rectangle.prototype);a.RoundedRectangle.prototype.constructor=a.Rectangle;a.RoundedRectangle.prototype.toString=function(){return"RoundedRectangle{x:"+this.x+" , y:"+this.y+" , width:"+this.width+" , height:"+this.height+" , radius:"+this.radius+"}"};a.RoundedRectangle.prototype.clone=function(){return new a.RoundedRectangle(this.x,this.y,this.width,this.height,this.radius)};a.RectangleUtil=function(){};a.RectangleUtil.getBiggerRectangle=function(d,c){return d.getArea()>c.getArea()?d:c};a.RectangleUtil.getSmallerRectangle=function(d,c){return(d.getArea()<c.getArea()?d:c)};a.RectangleUtil.isBiggerThan=function(d,c){return d.getArea()>c.getArea()};a.RectangleUtil.isBiggerThanOrEqual=function(d,c){return d.getArea()>=c.getArea()};a.RectangleUtil.isSmallerThan=function(d,c){return d.getArea()<c.getArea()};a.RectangleUtil.isSmallerThanOrEqual=function(d,c){return d.getArea()<=c.getArea()};a.RectangleUtil.isEqual=function(d,c){return a.RectangleUtil.hasEqualPosition(d,c)&&a.RectangleUtil.hasEqualSides(d,c)};a.RectangleUtil.hasEqualPosition=function(d,c){return d.x==c.x&&d.y==c.y};a.RectangleUtil.hasEqualSides=function(d,c){return d.width==c.width&&d.height==c.height};a.RectangleUtil.hasEqualArea=function(d,c){return d.getArea()==c.getArea()};a.RectangleUtil.getCenterX=function(c){return c.x+c.width/2};a.RectangleUtil.getCenterY=function(c){return c.y+c.height/2};a.RectangleUtil.createRandomXIn=function(c){return BCHWMathUtil.getRandomNumberInRange(c.x,c.getRight())};a.RectangleUtil.createRandomYIn=function(c){return BCHWMathUtil.getRandomNumberInRange(c.y,c.getBottom())};a.RectangleUtil.rectanglesIntersect=function(d,c){return d.containsPoint(c.x,c.y)||d.containsPoint(c.getRight(),c.y)||d.containsPoint(c.getRight(),c.getBottom())||d.containsPoint(c.x,c.getBottom())};a.RectangleUtil.getIntersectingRectangle=function(h,g){if(!a.RectangleUtil.rectanglesIntersect(h,g)){console.log("\tno intersection found");return null}if(h.containsRect(g)){return g}if(g.containsRect(h)){return h}var d=Math.max(h.x,g.x),f=Math.max(h.y,g.y),c=Math.min(h.getRight(),g.getRight()),e=Math.min(h.getBottom(),g.getBottom());return new a.Rectangle(d,f,c-d,e-f)};a.RectangleUtil.createRandomRectangleIn=function(f){var d=Math.random()*f.width;var e=Math.random()*f.height;var c=Math.random()*(f.width-d);var g=Math.random()*(f.height-e);return new a.Rectangle(f.x+c,f.y+g,d,e)};a.RectangleUtil.createRandomIntegerRectangleIn=function(d){var c=a.RectangleUtil.createRandomRectangleIn(d);c.round();return c};a.RectangleUtil.horizontalAlignLeft=function(d,c){c.x=d.x};a.RectangleUtil.horizontalAlignMiddle=function(d,c){c.x=a.RectangleUtil.getCenterX(d)-c.width/2};a.RectangleUtil.horizontalAlignRight=function(d,c){c.x=d.getRight()-c.width};a.RectangleUtil.verticalAlignTop=function(d,c){c.y=d.y};a.RectangleUtil.verticalAlignMiddle=function(d,c){c.y=a.RectangleUtil.getCenterY(d)-c.height/2};a.RectangleUtil.verticalAlignBottom=function(d,c){c.y=d.getBottom()-c.height};a.RectangleUtil.scaleRectToPortraitFit=function(c,d){a.RectangleUtil.scaleRectToHeight(d,c.height)};a.RectangleUtil.scaleRectToLandscapeFit=function(c,d){a.RectangleUtil.scaleRectToWidth(d,c.width)};a.RectangleUtil.scaleRectToHeight=function(d,c){d.width*=(c/d.height);d.height=c};a.RectangleUtil.scaleRectToWidth=function(d,c){d.height*=(c/d.width);d.width=c};a.RectangleUtil.scaleRectToBestFit=function(c,e){var d=e.clone();a.RectangleUtil.scaleRectToPortraitFit(c,d);if(d.width>c.width){a.RectangleUtil.scaleRectToLandscapeFit(c,e)}else{e.updateToRect(d)}};a.RectangleUtil.scaleRectInto=function(c,d){a.RectangleUtil.scaleRectToBestFit(c,d);a.RectangleUtil.verticalAlignMiddle(c,d);a.RectangleUtil.horizontalAlignMiddle(c,d)};a.setIdentityMatrixToContext=function(c){c.setTransform(1,0,0,1,0,0)};a.Transform=function(g,h,f,e,d,c){this.update(isNaN(g)?1:g,isNaN(h)?0:h,isNaN(f)?0:f,isNaN(e)?1:e,isNaN(d)?0:d,isNaN(c)?0:c)};a.Transform.prototype.update=function(g,h,f,e,d,c){this.scaleX=g;this.skewX=h;this.skewY=f;this.scaleY=e;this.tx=d;this.ty=c};a.Transform.prototype.toString=function(){return"SimpleGeometry.Transform{scaleX:"+this.scaleX+" ,skewX:"+this.skewX+" ,skewY:"+this.skewY+" ,scaleY:"+this.scaleY+" ,tx:"+this.tx+" ,ty:"+this.ty+"}"};b.BCHWGeom=a}(window));