(function(a){UnitAnimator=function(e,d,c,b){this.easingFunction=UnitAnimator.easeLinear;this.reset(e,d,c,b)};UnitAnimator.easeLinear=function(f,e,h,g){return h*(f/g)+e};UnitAnimator.easeInSine=function(f,e,h,g){return -h*Math.cos(f/g*BCHWMathUtil.HALF_PI)+h+e};UnitAnimator.easeOutSine=function(f,e,h,g){return h*Math.sin(f/g*BCHWMathUtil.HALF_PI)+e};UnitAnimator.easeInOutSine=function(f,e,h,g){return -h/2*(Math.cos(Math.PI*f/g)-1)+e};UnitAnimator.easeInBounce=function(f,e,h,g){return h-UnitAnimator.easeOutBounce(g-f,0,h,g)+e};UnitAnimator.easeOutBounce=function(f,e,h,g){if((f/=g)<(1/2.75)){return h*(7.5625*f*f)+e}else{if(f<(2/2.75)){return h*(7.5625*(f-=(1.5/2.75))*f+0.75)+e}else{if(f<(2.5/2.75)){return h*(7.5625*(f-=(2.25/2.75))*f+0.9375)+e}else{return h*(7.5625*(f-=(2.625/2.75))*f+0.984375)+e}}}};UnitAnimator.easeInOutBounce=function(f,e,h,g){if(f<g/2){return UnitAnimator.easeInBounce(f*2,0,h,g)*0.5+e}return UnitAnimator.easeOutBounce(f*2-g,0,h,g)*0.5+h*0.5+e};UnitAnimator.easeInElastic=function(g,e,k,j,f,i){var h;if(g==0){return e}if((g/=j)==1){return e+k}if(!i){i=j*0.3}if(!f||f<Math.abs(k)){f=k;h=i/4}else{h=i/BCHWMathUtil.PI2*Math.asin(k/f)}return -(f*Math.pow(2,10*(g-=1))*Math.sin((g*j-h)*BCHWMathUtil.PI2/i))+e};UnitAnimator.easeOutElastic=function(g,e,k,j,f,i){var h;if(g==0){return e}if((g/=j)==1){return e+k}if(!i){i=j*0.3}if(!f||f<Math.abs(k)){f=k;h=i/4}else{h=i/BCHWMathUtil.PI2*Math.asin(k/f)}return(f*Math.pow(2,-10*g)*Math.sin((g*j-h)*BCHWMathUtil.PI2/i)+k+e)};UnitAnimator.easeInOutElastic=function(g,e,k,j,f,i){var h;if(g==0){return e}if((g/=j/2)==2){return e+k}if(!i){i=j*(0.3*1.5)}if(!f||f<Math.abs(k)){f=k;h=i/4}else{h=i/BCHWMathUtil.PI2*Math.asin(k/f)}if(g<1){return -0.5*(f*Math.pow(2,10*(g-=1))*Math.sin((g*j-h)*BCHWMathUtil.PI2/i))+e}return f*Math.pow(2,-10*(g-=1))*Math.sin((g*j-h)*BCHWMathUtil.PI2/i)*0.5+k+e};UnitAnimator.easingFunctions=[UnitAnimator.easeLinear,UnitAnimator.easeInSine,UnitAnimator.easeOutSine,UnitAnimator.easeInOutSine,UnitAnimator.easeInBounce,UnitAnimator.easeOutBounce,UnitAnimator.easeInOutBounce,UnitAnimator.easeInElastic,UnitAnimator.easeOutElastic,UnitAnimator.easeInOutElastic];UnitAnimator.getRandomEasingFunction=function(){return UnitAnimator.easingFunctions[Math.floor(Math.random()*UnitAnimator.easingFunctions.length)]};UnitAnimator.prototype.setRandomEasingFunction=function(){this.easingFunction=UnitAnimator.getRandomEasingFunction()};UnitAnimator.prototype.setEasingFunction=function(b){if(UnitAnimator.easingFunctions.indexOf(b)>-1){this.easingFunction=b}};UnitAnimator.prototype.getAnimationPercent=function(){return this.easingFunction(BCHWMathUtil.normalize(this.millisecondsAnimated,0,this.duration),0,1,1)};UnitAnimator.prototype.isAnimating=function(){return !isNaN(this.intervalId)};UnitAnimator.prototype.reset=function(e,d,c,b){this.duration=e;this.framerate=d;if(d>e){}this.updateCallBack=c;this.completeCallBack=b;this.millisecondsAnimated=0};UnitAnimator.prototype.start=function(b){if(b){this.setEasingFunction(b)}var c=this;this.intervalId=setInterval(function(){c.update()},this.framerate)};UnitAnimator.prototype.pause=function(){if(!isNaN(this.intervalId)){clearInterval(this.intervalId)}delete this.intervalId};UnitAnimator.prototype.update=function(){this.millisecondsAnimated+=this.framerate;if(this.millisecondsAnimated>=this.duration){this.pause();this.millisecondsAnimated=this.duration;this.dispatchUpdate();this.dispatchComplete();return}this.dispatchUpdate()};UnitAnimator.prototype.dispatchUpdate=function(){if(this.updateCallBack){this.updateCallBack()}};UnitAnimator.prototype.dispatchComplete=function(){if(this.completeCallBack){this.completeCallBack()}};a.UnitAnimator=UnitAnimator}(window));