(function(b){var a=function(){this.testsRan=0;this.testsPassed=0;this.testsFailed=[]};a.prototype.assertEquals=function(e,d,c){this.testsRan++;if(e==d){this.testsPassed++}else{this.testsFailed.push(c+" failed assertEquals with values : ( "+e+" , "+d+" )")}};a.prototype.showSummary=function(){console.log(" ===========:: BCHW TESTS SUMMMARY ::==========");console.log(" ===========:: tests ran : "+this.testsRan+" ::===============");console.log(" ===========:: tests passed : "+this.testsPassed+" ::============");if(this.testsRan==this.testsPassed){console.log(" ===========:: ALL TESTS PASSED! ::============")}else{console.log(" ===========:: !!! TESTS FAILED !!!! ::============");for(var c=0;c<this.testsFailed.length;c++){console.log("     => "+this.testsFailed[c])}}};b.BCHWAssert=a}(window));(function(b){var a=function(){this.tests=[];this.verboseTests=[]};a.prototype.addTest=function(d,c){this.tests.push(d);this.verboseTests.push(c)};a.prototype.run=function(d){for(var c=0;c<this.tests.length;c++){this.tests[c](d,this.verboseTests[c])}};b.BCHWTests=a}(window));function runTests(d,c){console.time("runTests");var b=new BCHWAssert();var a=new BCHWTests();if(d){runAllDataTests(a)}if(c){runAllVisualTests(a)}a.run(b);b.showSummary();console.timeEnd("runTests")}function runAllDataTests(a){a.addTest(testRectangle,false);a.addTest(testRectangleUtil,true);a.addTest(testRoundedRectangle,false);a.addTest(testRGBAColor,false);a.addTest(testBCHWColor,false);a.addTest(testArrayUtil,false)}function runAllVisualTests(a){a.addTest(testRectangleUtilVisualFunctions);a.addTest(testLayoutManagerProperties,false);a.addTest(testLayoutManager,false)}function logTestName(a){console.log(" ======::RUNNING TEST::======");console.log("BCHWTests."+a)}function assertRectangle(e,i,c,f,d,b,h,g,a){i.assertEquals(e.x,f,c);i.assertEquals(e.y,d,c);i.assertEquals(e.width,b,c);i.assertEquals(e.height,h,c);i.assertEquals(e.getRight(),g,c);i.assertEquals(e.getBottom(),a,c)}function assertRoundedRectangle(c,j,e,g,f,b,i,d,h,a){j.assertEquals(c.x,g,e);j.assertEquals(c.y,f,e);j.assertEquals(c.width,b,e);j.assertEquals(c.height,i,e);j.assertEquals(c.radius,d,e);j.assertEquals(c.getRight(),h,e);j.assertEquals(c.getBottom(),a,e)}function assertRGBAColor(c,d,b,g,e,a,f){d.assertEquals(c.red,g,b);d.assertEquals(c.green,e,b);d.assertEquals(c.blue,a,b);d.assertEquals(c.alpha,f,b)}function testRectangle(e,b){var a="testRectangle()";if(b){logTestName(a)}var d=BCHWGeom.createRectangle();if(b){console.log(d.toString())}assertRectangle(d,e,a,0,0,0,0,0,0);d=BCHWGeom.createRectangle(100,600,20,30);if(b){console.log(d.toString())}assertRectangle(d,e,a,100,600,20,30,120,630);d=BCHWGeom.createRectangle(100,100,100,100);e.assertEquals(d.isSquare(d),true,a);e.assertEquals(d.isLandscape(d),false,a);e.assertEquals(d.isPortrait(d),false,a);d.width=200;e.assertEquals(d.isSquare(d),false,a);e.assertEquals(d.isLandscape(d),true,a);e.assertEquals(d.isPortrait(d),false,a);d.width=50;e.assertEquals(d.isSquare(d),false,a);e.assertEquals(d.isLandscape(d),false,a);e.assertEquals(d.isPortrait(d),true,a);e.assertEquals(d.getSmallerSide(d),50,a);e.assertEquals(d.getBiggerSide(d),100,a);d=BCHWGeom.createRectangle(100.123,600.123,20.678,30.678);var c=d.clone();c.floor();assertRectangle(c,e,a,100,600,20,30,120,630);c=d.clone();c.ceil();assertRectangle(c,e,a,101,601,21,31,122,632);c=d.clone();c.round();assertRectangle(c,e,a,100,600,21,31,121,631)}function testRoundedRectangle(d,b){var a="testRoundedRectangle()";if(b){logTestName(a)}var c=BCHWGeom.createRoundedRectangle();if(b){console.log(c.toString())}assertRoundedRectangle(c,d,a,0,0,0,0,5,0,0);c=BCHWGeom.createRoundedRectangle(200,800,600,30,10);if(b){console.log(c.toString())}assertRoundedRectangle(c,d,a,200,800,600,30,10,800,830)}function testRectangleUtil(e,c){var a="testRectangleUtil()";if(c){logTestName(a)}var d=BCHWGeom.createRectangle(100,100,100,100);var b=BCHWGeom.createRectangle(100,100,200,200);e.assertEquals(BCHWGeom.RectangleUtil.getBiggerRectangle(d,b),b,a);e.assertEquals(BCHWGeom.RectangleUtil.getSmallerRectangle(d,b),d,a);e.assertEquals(BCHWGeom.RectangleUtil.isBiggerThan(b,d),true,a);e.assertEquals(BCHWGeom.RectangleUtil.isBiggerThan(d,b),false,a);e.assertEquals(BCHWGeom.RectangleUtil.isSmallerThan(d,b),true,a);e.assertEquals(BCHWGeom.RectangleUtil.isSmallerThan(b,d),false,a);e.assertEquals(BCHWGeom.RectangleUtil.isBiggerThanOrEqual(b,d),true,a);e.assertEquals(BCHWGeom.RectangleUtil.isSmallerThanOrEqual(d,b),true,a);e.assertEquals(BCHWGeom.RectangleUtil.isEqual(d,b),false,a);e.assertEquals(BCHWGeom.RectangleUtil.hasEqualArea(d,b),false,a);d.width=200;d.height=200;e.assertEquals(BCHWGeom.RectangleUtil.isBiggerThanOrEqual(b,d),true,a);e.assertEquals(BCHWGeom.RectangleUtil.isSmallerThanOrEqual(d,b),true,a);e.assertEquals(BCHWGeom.RectangleUtil.isEqual(d,b),true,a);e.assertEquals(BCHWGeom.RectangleUtil.hasEqualArea(d,b),true,a);d=BCHWGeom.createRectangle(100,100,100,100);e.assertEquals(BCHWGeom.RectangleUtil.getCenterX(d),150,a);e.assertEquals(BCHWGeom.RectangleUtil.getCenterY(d),150,a)}function testRGBAColor(d,b){var a="testCanvasColor()";if(b){logTestName(a)}var c=new BCHWColor.createRGBAColor();if(b){console.log(c.toString())}assertRGBAColor(c,d,a,0,0,0,1);c=new BCHWColor.createRGBAColor(10,255,120);if(b){console.log(c.toString())}assertRGBAColor(c,d,a,10,255,120,1);c=new BCHWColor.createRGBAColor(10,255,120,0.5);if(b){console.log(c.toString())}assertRGBAColor(c,d,a,10,255,120,0.5)}function testBCHWColor(d,b){var a="testBCHWColor()";if(b){logTestName(a)}for(var c=0;c<5;c++){if(b){console.log(BCHWColor.BCHWColorsLib.getRandomFillPaletteColor().toString())}}}function testArrayUtil(d,b){var a="testArrayUtil()";if(b){logTestName(a)}var e;for(var c=0;c<10;c++){e=[0,1,2,3,4,5,6];e=BCHWArrayUtil.shuffle(e);if(b){console.log(e)}}}function renderRectangle(b,a){a.beginPath();a.lineWidth=1;a.fillStyle=BCHWColor.BCHWColorsLib.getRandomFillPaletteColor().getCanvasColorString();a.strokeStyle=BCHWColor.BCHWColorsLib.WHITE.getCanvasColorString();a.moveTo(b.x,b.y);a.lineTo(b.getRight(),b.y);a.lineTo(b.getRight(),b.getBottom());a.lineTo(b.x,b.getBottom());a.lineTo(b.x,b.y);a.fill();a.stroke()}function testRectangleUtilVisualFunctions(d,a){var b=document.querySelector("canvas");var c=b.getContext("2d");scaleRectangleInto(b,c)}function drawRandomRectangles(b,d){var a=BCHWGeom.createRectangle(50,50,b.width-100,b.height-100);renderRectangle(a,d);for(var c=0;c<20;c++){rect=BCHWGeom.RectangleUtil.createRandomIntegerRectangleIn(a);renderRectangle(rect,d)}}function alignRectangles(b,c){var d=BCHWGeom.createRectangle(50,50,200,200);renderRectangle(d,c);var a=BCHWGeom.createRectangle(0,0,20,20);BCHWGeom.RectangleUtil.verticalAlignTop(d,a);BCHWGeom.RectangleUtil.horizontalAlignLeft(d,a);renderRectangle(a,c);BCHWGeom.RectangleUtil.horizontalAlignMiddle(d,a);renderRectangle(a,c);BCHWGeom.RectangleUtil.horizontalAlignRight(d,a);renderRectangle(a,c);BCHWGeom.RectangleUtil.verticalAlignMiddle(d,a);BCHWGeom.RectangleUtil.horizontalAlignLeft(d,a);renderRectangle(a,c);BCHWGeom.RectangleUtil.horizontalAlignMiddle(d,a);renderRectangle(a,c);BCHWGeom.RectangleUtil.horizontalAlignRight(d,a);renderRectangle(a,c);BCHWGeom.RectangleUtil.verticalAlignBottom(d,a);BCHWGeom.RectangleUtil.horizontalAlignLeft(d,a);renderRectangle(a,c);BCHWGeom.RectangleUtil.horizontalAlignMiddle(d,a);renderRectangle(a,c);BCHWGeom.RectangleUtil.horizontalAlignRight(d,a);renderRectangle(a,c)}function scaleRectangles(d,e){var b=BCHWGeom.createRectangle(0,0,400,400);var c=BCHWGeom.createRectangle(50,50,200,200);renderRectangle(c,e);var a=BCHWGeom.createRectangle(300,50,200,200);renderRectangle(a,e);var f=BCHWGeom.RectangleUtil.createRandomIntegerRectangleIn(b);BCHWGeom.RectangleUtil.scaleRectToPortraitFit(c,f);BCHWGeom.RectangleUtil.verticalAlignTop(c,f);BCHWGeom.RectangleUtil.horizontalAlignMiddle(c,f);renderRectangle(f,e);f=BCHWGeom.RectangleUtil.createRandomIntegerRectangleIn(b);BCHWGeom.RectangleUtil.scaleRectToLandscapeFit(a,f);BCHWGeom.RectangleUtil.verticalAlignMiddle(a,f);BCHWGeom.RectangleUtil.horizontalAlignLeft(a,f);renderRectangle(f,e)}function scaleRectangles2(a,b){var d=BCHWGeom.createRectangle(50,50,200,200);renderRectangle(d,b);var c=BCHWGeom.createRectangle(0,0,10,10);BCHWGeom.RectangleUtil.scaleRectToPortraitFit(d,c);BCHWGeom.RectangleUtil.verticalAlignMiddle(d,c);BCHWGeom.RectangleUtil.horizontalAlignMiddle(d,c);renderRectangle(c,b);d.update(300);renderRectangle(d,b);c=BCHWGeom.createRectangle(0,0,10,10);BCHWGeom.RectangleUtil.scaleRectToLandscapeFit(d,c);BCHWGeom.RectangleUtil.verticalAlignMiddle(d,c);BCHWGeom.RectangleUtil.horizontalAlignMiddle(d,c);renderRectangle(c,b);d.update(50,300);renderRectangle(d,b);c=BCHWGeom.createRectangle(0,0,20,10);BCHWGeom.RectangleUtil.scaleRectToLandscapeFit(d,c);BCHWGeom.RectangleUtil.verticalAlignMiddle(d,c);BCHWGeom.RectangleUtil.horizontalAlignMiddle(d,c);renderRectangle(c,b);d.update(300,300);renderRectangle(d,b);c=BCHWGeom.createRectangle(0,0,10,20);BCHWGeom.RectangleUtil.scaleRectToPortraitFit(d,c);BCHWGeom.RectangleUtil.verticalAlignMiddle(d,c);BCHWGeom.RectangleUtil.horizontalAlignMiddle(d,c);renderRectangle(c,b)}function scaleRectangleInto(b,c){var a=BCHWGeom.createRectangle(0,0,400,400);var d=BCHWGeom.createRectangle(50,50,200,200);renderRectangle(d,c);rect=BCHWGeom.RectangleUtil.createRandomIntegerRectangleIn(a);BCHWGeom.RectangleUtil.scaleRectInto(d,rect);renderRectangle(rect,c)}function testBCHWFont(d,b){var a="testBCHWFont()";if(b){logTestName(a)}for(var c=0;c<50;c++){testDrawRandomCharacter(d,b)}}function testDrawRandomCharacter(b,m){var h=document.querySelector("canvas");var e=h.getContext("2d");var o=BCHWColor.BCHWColorsLib.getRandomFillPaletteColor();var c=BCHWColor.BCHWColorsLib.WHITE;var j=h.width*0.1;var k=h.height*0.1;var p=Math.floor(h.width*0.8);var n=Math.floor(h.height*0.8);var f=j+Math.floor(Math.random()*p);var d=k+Math.floor(Math.random()*n);var g=Math.floor(Math.random()*(h.width-j-f));var l=Math.floor(Math.random()*(h.height-k-d));if(g<40){g=40}if(l<40){l=40}var r=BCHWGeom.createRoundedRectangle(f,d,g,l,8);var q="bcefghiostuwy";var i=q.charAt(Math.floor(Math.random()*q.length));var a=BCHWFontCharacter.createBCHWFontCharacter(i,o,c,4,r);a.renderToContext(e)}function testLayoutManagerLayoutProperties(c,a,b){c.assertEquals(b.verticalAlign,LayoutRectangle.VERTICAL_ALIGN_MIDDLE,a);c.assertEquals(b.horizontalAlign,LayoutRectangle.HORIZONTAL_ALIGN_MIDDLE,a);b.setVerticalAlign(LayoutRectangle.VERTICAL_ALIGN_BOTTOM);c.assertEquals(b.verticalAlign,LayoutRectangle.VERTICAL_ALIGN_BOTTOM,a);b.setVerticalAlign(LayoutRectangle.VERTICAL_ALIGN_TOP);c.assertEquals(b.verticalAlign,LayoutRectangle.VERTICAL_ALIGN_TOP,a);b.setVerticalAlign(LayoutRectangle.VERTICAL_ALIGN_MIDDLE);c.assertEquals(b.verticalAlign,LayoutRectangle.VERTICAL_ALIGN_MIDDLE,a);b.setVerticalAlign("nonExistingAlign");c.assertEquals(b.verticalAlign,LayoutRectangle.VERTICAL_ALIGN_MIDDLE,a);b.setHorizontalAlign(LayoutRectangle.HORIZONTAL_ALIGN_LEFT);c.assertEquals(b.horizontalAlign,LayoutRectangle.HORIZONTAL_ALIGN_LEFT,a);b.setHorizontalAlign(LayoutRectangle.HORIZONTAL_ALIGN_RIGHT);c.assertEquals(b.horizontalAlign,LayoutRectangle.HORIZONTAL_ALIGN_RIGHT,a);b.setHorizontalAlign(LayoutRectangle.HORIZONTAL_ALIGN_MIDDLE);c.assertEquals(b.horizontalAlign,LayoutRectangle.HORIZONTAL_ALIGN_MIDDLE,a);b.setHorizontalAlign(LayoutRectangle.HORIZONTAL_ALIGN_JUSTIFY);c.assertEquals(b.horizontalAlign,LayoutRectangle.HORIZONTAL_ALIGN_JUSTIFY,a);b.setHorizontalAlign("nonExistingAlign");c.assertEquals(b.horizontalAlign,LayoutRectangle.HORIZONTAL_ALIGN_MIDDLE,a);return b}function testLayoutManagerProperties(g,b){var a="testLayoutManagerProperties()";if(b){logTestName(a)}var c=document.querySelector("canvas");var e=c.getContext("2d");var f=testLayoutManagerLayoutProperties(g,a,new RowsLayoutManager());var d,h;for(d=0;d<4;d++){h=testLayoutManagerLayoutProperties(g,a,new RectangleLayoutRow());f.addRow(h)}g.assertEquals(f.rows.length,4,a)}function renderBCHWFontLayoutRow(b,h,a){var g=new Array();var f=BCHWColor.BCHWColorsLib.WHITE;var e,c,d,j;for(d=0;d<h.length;d++){e=h.charAt(d);c=BCHWColor.BCHWColorsLib.getNextColor(c);j=BCHWFontCharacter.createBCHWFontCharacter(e,c,f,4,new BCHWGeom.RoundedRectangle());if(e==" "){j.width=0.5}b.addCharacter(j);g[d]=j}b.layoutCharacters();for(d=0;d<g.length;d++){j=g[d];j.renderToContext(a)}}function testRenderBCHWFontLayoutRow(g,b){var a="testRenderBCHWFontLayoutRow()";if(b){logTestName(a)}var c=document.querySelector("canvas");var d=c.getContext("2d");var f=new BCHWFontLayoutRect();var e=BCHWGeom.createRectangle(c.width*0.1,c.height*0.1,800,80);f.updateToRect(e);if(b){console.log("rowManager.layoutRectangle.toString() : "+f.toString())}renderBCHWFontLayoutRow(f,"big city",d);f=new BCHWFontLayoutRect();e=BCHWGeom.createRectangle(c.width*0.1,c.height*0.1+80,800,80);f.updateToRect(e);if(b){console.log("rowManager.layoutRectangle.toString() : "+f.toString())}renderBCHWFontLayoutRow(f,"house wife",d)}function testLayoutManager(g,b){var a="testLayoutManager()";if(b){logTestName(a)}var c=document.querySelector("canvas");var e=c.getContext("2d");var f=new RowsLayoutManager(e);var d,h;for(d=0;d<4;d++){h=new RectangleLayoutRow();f.addRow(h)}g.assertEquals(f.rows.length,4,a)};